CC=gcc
SRC=main.c school.c
OBJ=$(SRC:.c=.o)
NAME=school

all:$(NAME)
	@if [ ! -n "$(filter-out $<,$(wildcard $<))" ]; then \
		echo "gcc $(OBJ) -o $(NAME)"; \
		fi

%.o: %.c
	@$(CC) -c $< -o $@
	@echo "gcc -c -o $@ $<"

$(NAME):$(OBJ)
	@$(CC) $(OBJ) -o $(NAME)
